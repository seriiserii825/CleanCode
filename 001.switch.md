# –ö–æ–º–∞–Ω–¥—ã switch

–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É switch –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–æ1. –î–∞–∂–µ –∫–æ–º–∞–Ω–¥–∞ switch
–≤—Å–µ–≥–æ —Å –¥–≤—É–º—è —É—Å–ª–æ–≤–∏—è–º–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, —á–µ–º –≤ –º–æ–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏
–¥–æ–ª–∂–µ–Ω –∑–∞–Ω–∏–º–∞—Ç—å –æ–¥–∏–Ω –±–ª–æ–∫ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è. –¢–∞–∫–∂–µ —Ç—Ä—É–¥–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É switch,
–∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —á—Ç–æ-—Ç–æ –æ–¥–Ω–æ ‚Äî –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã switch –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç
N –æ–ø–µ—Ä–∞—Ü–∏–π. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –∫–æ–º–∞–Ω–¥ switch —É–¥–∞–µ—Ç—Å—è –Ω–µ –≤—Å–µ–≥–¥–∞, –Ω–æ –ø–æ
–∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –º—ã –º–æ–∂–µ–º –ø–æ–∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Ç–æ–º, —á—Ç–æ–±—ã —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –±—ã–ª–∏ —Å–∫—Ä—ã—Ç—ã
–≤ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–º –∫–ª–∞—Å—Å–µ –∏ –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –∫–æ–¥–µ. –ò –∫–æ–Ω–µ—á–Ω–æ, –≤ —ç—Ç–æ–º –Ω–∞–º –º–æ–∂–µ—Ç
–ø–æ–º–æ—á—å –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º.

## üß† –¶–µ–ª—å

–ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –≥—Ä–æ–º–æ–∑–¥–∫–∏—Ö `if`/`elif`/`else` –∏–ª–∏ `match`
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
(–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –∑–∞—Ä–ø–ª–∞—Ç—ã), –∏—Å–ø–æ–ª—å–∑—É—è –û–û–ü.

## ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
from abc import ABC, abstractmethod
from dataclasses import dataclass

# –û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
class Employee(ABC):
    def __init__(self, record):
        self.name = record.name
        self.data = record

    @abstractmethod
    def is_payday(self) -> bool:
        pass

    @abstractmethod
    def calculate_pay(self) -> float:
        pass

    @abstractmethod
    def deliver_pay(self, amount: float):
        pass


# –†–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
class CommissionedEmployee(Employee):
    def is_payday(self) -> bool:
        return True  # –£–ø—Ä–æ—â–µ–Ω–æ

    def calculate_pay(self) -> float:
        return self.data.base + self.data.commission

    def deliver_pay(self, amount: float):
        print(f"{self.name}: –≤—ã–ø–ª–∞—á–µ–Ω–æ {amount} (—Å –∫–æ–º–∏—Å—Å–∏–µ–π)")


class HourlyEmployee(Employee):
    def is_payday(self) -> bool:
        return True

    def calculate_pay(self) -> float:
        return self.data.hours * self.data.rate

    def deliver_pay(self, amount: float):
        print(f"{self.name}: –≤—ã–ø–ª–∞—á–µ–Ω–æ {amount} (–ø–æ—á–∞—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞)")


class SalariedEmployee(Employee):
    def is_payday(self) -> bool:
        return True

    def calculate_pay(self) -> float:
        return self.data.salary

    def deliver_pay(self, amount: float):
        print(f"{self.name}: –≤—ã–ø–ª–∞—á–µ–Ω–æ {amount} (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞)")


# –ö–ª–∞—Å—Å –∑–∞–ø–∏—Å–∏ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ
@dataclass
class EmployeeRecord:
    name: str
    type: str
    salary: float = 0
    base: float = 0
    commission: float = 0
    hours: float = 0
    rate: float = 0


# –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
class InvalidEmployeeType(Exception):
    pass


# –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞
class EmployeeFactory:
    @staticmethod
    def make_employee(record: EmployeeRecord) -> Employee:
        match record.type:
            case "COMMISSIONED":
                return CommissionedEmployee(record)
            case "HOURLY":
                return HourlyEmployee(record)
            case "SALARIED":
                return SalariedEmployee(record)
            case _:
                raise InvalidEmployeeType(f"–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø: {record.type}")


# ======= –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ =======
employees = [
    EmployeeRecord(name="–ò–≤–∞–Ω", type="SALARIED", salary=5000),
    EmployeeRecord(name="–û–ª—å–≥–∞", type="HOURLY", hours=160, rate=20),
    EmployeeRecord(name="–ú–∞–∫—Å–∏–º", type="COMMISSIONED", base=3000, commission=1200),
]

for record in employees:
    employee = EmployeeFactory.make_employee(record)
    if employee.is_payday():
        pay = employee.calculate_pay()
        employee.deliver_pay(pay)
```

## üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ

- –í–º–µ—Å—Ç–æ –±–æ–ª—å—à–æ–≥–æ `switch` –ø–æ —Ç–∏–ø—É —Ä–∞–±–æ—Ç–Ω–∏–∫–∞, –∫–∞–∂–¥—ã–π —Ç–∏–ø —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–ª–∞—Å—Å–æ–º.
- –õ–æ–≥–∏–∫–∞ `calculate_pay`, `is_payday`, `deliver_pay`
  —Ç–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–∞.
- –ö–æ–º–∞–Ω–¥–∞ `switch` (–∏–ª–∏ `match` –≤ Python 3.10+) –æ—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω —Ä–∞–∑**
  ‚Äî –≤ **—Ñ–∞–±—Ä–∏–∫–µ**, –∏ **—Å–∫—Ä—ã—Ç–∞** –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.
- –ë–ª–∞–≥–æ–¥–∞—Ä—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º—É, –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å–∏—Å—Ç–µ–º—ã —Ç–µ–ø–µ—Ä—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.
