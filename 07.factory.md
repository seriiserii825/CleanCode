# Factory

–ö–æ–Ω–µ—á–Ω–æ, –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–µ–Ω –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å-
—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–∏—Å—Ç–µ–º–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ
—Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤ LineItem –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∏—Ö –≤ –æ–±—ä–µ–∫—Ç –∑–∞–∫–∞–∑–∞ Order.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –ê–ë–°–¢–†–ê–ö–¢–ù–ê–Ø –§–ê–ë–†–ò–ö–ê
[GOF], —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–≥–ª–æ —Å–∞–º–æ –≤—ã–±—Ä–∞—Ç—å –º–æ–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è LineItem,
–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è –±—ã–ª–∏ –æ—Ç–¥–µ–ª–µ–Ω—ã –æ—Ç –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ò —Å–Ω–æ–≤–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –≤—Å–µ —Å—Ç—Ä–µ–ª–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–µ–¥—É—Ç –æ—Ç main
–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é OrderProcessing. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –æ—Ç
–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è LineItem . –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
LineItemFactoryImplementation, –Ω–∞—Ö–æ–¥—è—â–µ–π—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ main. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –ø—Ä–∏-
–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–º–µ–Ω—Ç–æ–º —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ LineItem –∏ –¥–∞–∂–µ
–º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏-
–ª–æ–∂–µ–Ω–∏—è.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –Ω–∞ Python, –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—â–∏–π **–ø–∞—Ç—Ç–µ—Ä–Ω "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞"**, –≥–¥–µ:

- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `OrderProcessing` –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã `LineItem`.
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏ `LineItemFactoryImplementation`
  —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏–∑–≤–Ω–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–æ–¥—É–ª–µ `main`.

---

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤

- `LineItem`: –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ç–æ–≤–∞—Ä–∞.
- `ConcreteLineItem`: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä.
- `LineItemFactory`: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞.
- `LineItemFactoryImplementation`: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏.
- `Order`: –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤.
- `OrderProcessing`: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ —Ñ–∞–±—Ä–∏–∫—É.

```python
from abc import ABC, abstractmethod
from typing import List

# –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ç–æ–≤–∞—Ä–∞
class LineItem(ABC):
    def __init__(self, name: str, price: float):
        self.name = name
        self.price = price

    @abstractmethod
    def get_description(self) -> str:
        pass

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–∞
class ConcreteLineItem(LineItem):
    def get_description(self) -> str:
        return f"{self.name} - ${self.price:.2f}"

# –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞
class LineItemFactory(ABC):
    @abstractmethod
    def create(self, name: str, price: float) -> LineItem:
        pass

# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏
class LineItemFactoryImplementation(LineItemFactory):
    def create(self, name: str, price: float) -> LineItem:
        print(f"[Factory] Creating LineItem: {name}, {price}")
        return ConcreteLineItem(name, price)

# –ó–∞–∫–∞–∑
class Order:
    def __init__(self):
        self.items: List[LineItem] = []

    def add_item(self, item: LineItem):
        self.items.append(item)

    def summary(self):
        for item in self.items:
            print(item.get_description())

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
class OrderProcessing:
    def __init__(self, factory: LineItemFactory):
        self.factory = factory
        self.order = Order()

    def add_line_item(self, name: str, price: float):
        item = self.factory.create(name, price)
        self.order.add_item(item)

    def process_order(self):
        print("[OrderProcessing] Order summary:")
        self.order.summary()

# main: –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
if __name__ == "__main__":
    factory = LineItemFactoryImplementation()
    app = OrderProcessing(factory)

    app.add_line_item("Apple", 1.5)
    app.add_line_item("Banana", 0.9)
    app.add_line_item("Coffee", 3.75)

    app.process_order()
```

### üîç –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä

- `OrderProcessing` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º `LineItem`, –Ω–æ –Ω–µ –∑–Ω–∞–µ—Ç,
  –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è ‚Äî —ç—Ç–∏–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–∞.
- –ú–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`add_line_item()`).
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `LineItemFactoryImplementation`
  –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
