# –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üóÉÔ∏è –ü—Ä–∏–º–µ—Ä: –§–∞–π–ª –∏ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

### ‚ùå –ü–ª–æ—Ö–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ø—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º)

```python
class File:
    def __init__(self, path: str):
        self.path = path
        self.content = open(path).read()  # —á–∏—Ç–∞–µ–º –≤—Å—ë —Å—Ä–∞–∑—É

    def get_content(self):
        return self.content
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
f = File("example.txt")
print(f.get_content())
```

**–ß—Ç–æ –Ω–µ —Ç–∞–∫:**

- –í—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É (–ø–∞–º—è—Ç—å!).
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–Ω–∞–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, —Å–∞–º —Ä–µ—à–∞–µ—Ç, —á—Ç–æ —Å –Ω–∏–º–∏ –¥–µ–ª–∞—Ç—å.
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å—Ç—Ä–æ—á–Ω–æ –∏–ª–∏ –ø–æ —á–∞—Å—Ç—è–º ‚Äî –Ω–∏–∫–∞–∫–æ–π –≥–∏–±–∫–æ—Å—Ç–∏.

‚úÖ –•–æ—Ä–æ—à–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Ñ–∞–π–ª–∞)

```python
from abc import ABC, abstractmethod
from typing import Iterator

class AbstractFile(ABC):
    @abstractmethod
    def lines(self) -> Iterator[str]:
        pass

    @abstractmethod
    def words(self) -> Iterator[str]:
        pass

    @abstractmethod
    def size(self) -> int:
        pass
```

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```python
class TextFile(AbstractFile):
    def __init__(self, path: str):
        self._path = path

    def lines(self) -> Iterator[str]:
        with open(self._path, 'r') as f:
            for line in f:
                yield line.rstrip()

    def words(self) -> Iterator[str]:
        for line in self.lines():
            for word in line.split():
                yield word

    def size(self) -> int:
        import os
        return os.path.getsize(self._path)
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
f = TextFile("example.txt")

print("–°—Ç—Ä–æ–∫–∏:")
for line in f.lines():
    print(line)

print("–°–ª–æ–≤–∞:")
for word in f.words():
    print(word)

print("–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö:", f.size())
```

| –ü–ª–æ—Ö–æ–π –ø–æ–¥—Ö–æ–¥          | –•–æ—Ä–æ—à–∏–π –ø–æ–¥—Ö–æ–¥                                                 |
| ---------------------- | -------------------------------------------------------------- |
| –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º | –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã                                             |
| –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–µ—Å—å —Ñ–∞–π–ª    | –†–∞–±–æ—Ç–∞–µ–º –ø–æ—Å—Ç—Ä–æ—á–Ω–æ                                             |
| –ù–µ—Ç –≥–∏–±–∫–æ—Å—Ç–∏           | –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Ç–æ–∫ –∏–∑ —Å–µ—Ç–∏ –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–∞) |
| –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP –∏ DIP    | –°–ª–µ–¥—É–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID                                        |
